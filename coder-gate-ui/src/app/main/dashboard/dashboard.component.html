<app-navigator></app-navigator>
<div class="dashboard-container">
  <div class="row py-4">
    <div class="col-2 border-end sidebar">
      <div class="row insights-sidebar-item sidebar-item p-3 active" role="button">
        <i class="col-2 fa fa-code align-self-center" aria-hidden="true"></i>
        <div class="col-10">Repositories</div>
      </div>
      <div class="row insights-sidebar-item sidebar-item p-3" role="button">
        <i class="col-2 fa fa-lightbulb-o align-self-center" aria-hidden="true"></i>
        <div class="col-10">Insights</div>
      </div>
      <div class="row insights-sidebar-item sidebar-item p-3" role="button">
        <i class="col-2 fa fa-comments-o align-self-center" aria-hidden="true"></i>
        <div class="col-10">Feedback</div>
      </div>
    </div>
    <div class="col-7" *ngIf="!showThresholdView">
      <div class="row mb-3 px-4 d-flex justify-content-between">
        <div class="p-3 metric repository-metric">
          <img src="../../../assets/images/repo.png" class="metric-icon" alt="repositories">
          <div class="metric-value mt-4">{{this.repositories.length}}</div>
          <div class="metric-name">Repositories</div>
        </div>
        <div class="p-3 metric collaborator-metric">
          <img src="../../../assets/images/coder-head.png" class="metric-icon" alt="collaborators">
          <div class="metric-value mt-4">27</div>
          <div class="metric-name">Collaborators</div>
        </div>
        <div class="p-3 metric scan-metric">
          <img src="../../../assets/images/loupe.png" class="metric-icon" alt="scanning">
          <div class="metric-value mt-4">297</div>
          <div class="metric-name">Code scanning</div>
        </div>
      </div>
      <div class="px-4 py-1 repository-list row">
        <div class="col-12 p-0">
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table">
            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <th mat-header-cell *matHeaderCellDef>Name</th>
              <td mat-cell *matCellDef="let element">{{element.title}}</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="Last updated">
              <th mat-header-cell *matHeaderCellDef>Last updated on</th>
              <td mat-cell *matCellDef="let element">{{element.lastUpdatedOn}}</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="health">
              <th mat-header-cell *matHeaderCellDef>Health</th>
              <td mat-cell *matCellDef="let element">{{element.health}}%</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row (click)="onRepoClick(row.title)" *matRowDef="let row; columns: displayedColumns;" role="button">
            </tr>
          </table>
        </div>
      </div>
    </div>
    <div class="col-10 threshold-form-view" *ngIf="showThresholdView">
      <div class="row">
        <div class="col-12 d-flex align-self-center" role="button" (click)="resetRepoId()">
          <img src="../../assets/images/back.png" height="20" alt="back arrow"
            class="back-arrow mx-2 align-self-center">
          <span class="repo-title">
            Threshold
          </span>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col-12">
          <!-- my-form.component.html -->

          <form *ngIf="myForm" [formGroup]="myForm" (ngSubmit)="onSubmit()">
            <mat-form-field class="col-12">
              <input matInput placeholder="{{selectedRepo}}" disabled>
            </mat-form-field>
          
            <h3 class="m-0 p-1">Overall Thresholds</h3>

            <div>
              <p class="m-0 px-1 pt-2"><mat-checkbox color="primary" formControlName="allowAction" labelPosition="before"></mat-checkbox>Block Merge If Threshold Values Not Met</p>
            </div>

            <table width="100%">
              <tr class="d-flex">
                <td class="p-3 feild">
                  <p  class="m-0" >Code Smell</p>
                  <mat-slider discrete id="codeSmellSlider" min="1" max="20" step="0.1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="codeSmell">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Duplicated Lines</p>
                  <mat-slider discrete id="duplicatedLinesSlider" min="1" max="10" step="0.1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="duplicatedLines">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Cyclomatic Complexity</p>
                  <mat-slider discrete id="cyclomaticComplexitySlider" min="1" max="15" step="0.1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="cyclomaticComplexity">
                  </mat-slider>
                </td>
              </tr>
              <tr class="d-flex">
                <td class="p-3 feild">
                  <p class="m-0">Architecture Smell Density</p>
                  <mat-slider discrete id="archSmellDensitySlider" min="1" max="20" step="0.1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="archSmellDensity">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Design Smell Density</p>
                  <mat-slider discrete id="designSmellDensitySlider" min="1" max="25" step="0.1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="designSmellDensity">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Implementation Smell Density</p>
                  <mat-slider discrete id="impSmellDensitySlider" min="1" max="30" step="0.1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="impSmellDensity">
                  </mat-slider>
                </td>
              </tr>
            </table>

            <br>

            <h3 class="m-0 p-1">Architecture Smells</h3>
            <table width="85%">
              <tr class="d-flex">
                <td class="p-3 feild">
                  <p class="m-0">Cyclic Dependency</p>
                  <mat-slider discrete id="cyclicDependencySlider" min="1" max="20" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="cyclicDependency">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">God Components</p>
                  <mat-slider discrete id="godComponentsSlider" min="1" max="10" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="godComponents">
                  </mat-slider>
                </td>
              </tr>
            </table>
            
            <br>

            <h3 class="m-0 p-1">Design Smells</h3>
            <table width="75%">
              <tr class="d-flex">
                <td class="p-3 feild">
                  <p class="m-0">Cyclically Dependent Modularization</p>
                  <mat-slider discrete id="cycDependentMod" min="1" max="20" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="cycDependentMod">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Insufficient Modularization</p>
                  <mat-slider discrete id="insufficientModularizationSlider" min="1" max="30" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="insufficientModularization">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Unnecessary Abstraction</p>
                  <mat-slider discrete id="unnecessaryAbstractionSlider" min="1" max="25" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="unnecessaryAbstraction">
                  </mat-slider>
                </td>
              </tr>
            </table>
            
            <br>
            
            <h3 class="m-0 p-1">Implementation Smells</h3>
            <table width="85%">
              <tr class="d-flex">
                <td class="p-3 feild">
                  <p class="m-0">Complex Conditional</p>
                  <mat-slider discrete id="complexConditionalSlider" min="1" max="20" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="complexConditional">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Empty Catch Clause</p>
                  <mat-slider discrete id="emptyCatchClauseSlider" min="1" max="10" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="emptyCatchClause">
                  </mat-slider>
                </td>
              </tr>
            </table>
            
            <br>

            <h3 class="m-0 p-1">Test Smells</h3>
            <table width="87%">
              <tr class="d-flex">
                <td class="p-3 feild">
                  <p class="m-0">Missing Assertion</p>
                  <mat-slider discrete id="missingAssertionSlider" min="1" max="10" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="missingAssertion">
                  </mat-slider>
                </td>
                <td class="p-3 feild">
                  <p class="m-0">Empty Test</p>
                  <mat-slider discrete id="emptyTestSlider" min="1" max="10" step="1" value="1" class="col-12 m-0">
                  <input matSliderThumb formControlName="emptyTest">
                  </mat-slider>
                </td>
              </tr>
            </table>
            
            <br>

            <div>
              <button mat-raised-button color="primary" type="submit">Submit</button>
            </div>

          </form>
        

        </div>
      </div>
    </div>
  </div>
</div>